"use strict";(self.webpackChunksubstack=self.webpackChunksubstack||[]).push([["53908"],{11167:function(e,t,n){n.d(t,{BE:()=>J,Es:()=>S,Tk:()=>W,Tn:()=>u,X3:()=>R,ZH:()=>o,aw:()=>K,b0:()=>l,bZ:()=>w,bu:()=>N,dO:()=>T,iX:()=>$,lK:()=>A,lg:()=>V,mF:()=>F,mf:()=>k,qm:()=>H,qv:()=>a,r9:()=>g,rL:()=>s,sb:()=>q,uv:()=>j});var r=n(17402);let i=()=>{},o=i(),a=Object,l=e=>e===o,u=e=>"function"==typeof e,s=(e,t)=>({...e,...t}),c=new WeakMap,f=0,d=e=>{let t,n,r=typeof e,i=e&&e.constructor,o=i==Date;if(a(e)!==e||o||i==RegExp)t=o?e.toJSON():"symbol"==r?e.toString():"string"==r?JSON.stringify(e):""+e;else{if(t=c.get(e))return t;if(t=++f+"~",c.set(e,t),i==Array){for(n=0,t="@";n<e.length;n++)t+=d(e[n])+",";c.set(e,t)}if(i==a){t="#";let r=a.keys(e).sort();for(;!l(n=r.pop());)l(e[n])||(t+=n+":"+d(e[n])+",");c.set(e,t)}}return t},w=new WeakMap,E={},p={},h="undefined",_=typeof window!=h,y=typeof document!=h,g=(e,t)=>{let n=w.get(e);return[()=>!l(t)&&e.get(t)||E,r=>{if(!l(t)){let i=e.get(t);t in p||(p[t]=i),n[5](t,s(i,r),i||E)}},n[6],()=>!l(t)&&t in p?p[t]:!l(t)&&e.get(t)||E]},v=!0,[b,m]=_&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[i,i],O={initFocus:e=>(y&&document.addEventListener("visibilitychange",e),b("focus",e),()=>{y&&document.removeEventListener("visibilitychange",e),m("focus",e)}),initReconnect:e=>{let t=()=>{v=!0,e()},n=()=>{v=!1};return b("online",t),b("offline",n),()=>{m("online",t),m("offline",n)}}},T=!r.default.useId,R=!_||"Deno"in window,k=e=>_&&typeof window.requestAnimationFrame!=h?window.requestAnimationFrame(e):setTimeout(e,1),S=R?r.useEffect:r.useLayoutEffect,C="undefined"!=typeof navigator&&navigator.connection,L=!R&&C&&(["slow-2g","2g"].includes(C.effectiveType)||C.saveData),A=e=>{if(u(e))try{e=e()}catch(t){e=""}let t=e;return[e="string"==typeof e?e:(Array.isArray(e)?e.length:e)?d(e):"",t]},D=0,V=()=>++D;var N={__proto__:null,ERROR_REVALIDATE_EVENT:3,FOCUS_EVENT:0,MUTATE_EVENT:2,RECONNECT_EVENT:1};async function F(...e){let[t,n,r,i]=e,a=s({populateCache:!0,throwOnError:!0},"boolean"==typeof i?{revalidate:i}:i||{}),c=a.populateCache,f=a.rollbackOnError,d=a.optimisticData,E=!1!==a.revalidate,p=a.throwOnError;if(u(n)){let e=[];for(let r of t.keys())!/^\$(inf|sub)\$/.test(r)&&n(t.get(r)._k)&&e.push(r);return Promise.all(e.map(h))}return h(n);async function h(n){let i,[a]=A(n);if(!a)return;let[s,h]=g(t,a),[_,y,v,b]=w.get(t),m=_[a],O=()=>E&&(delete v[a],delete b[a],m&&m[0])?m[0](2).then(()=>s().data):s().data;if(e.length<3)return O();let T=r,R=V();y[a]=[R,0];let k=!l(d),S=s(),C=S.data,L=S._c,D=l(L)?C:L;if(k&&h({data:d=u(d)?d(D,C):d,_c:D}),u(T))try{T=T(D)}catch(e){i=e}if(T&&u(T.then)){let e;if(T=await T.catch(e=>{i=e}),R!==y[a][0]){if(i)throw i;return T}i&&k&&(e=i,"function"==typeof f?f(e):!1!==f)&&(c=!0,h({data:T=D,_c:o}))}c&&!i&&(u(c)&&(T=c(T,D)),h({data:T,error:o,_c:o})),y[a][1]=V();let N=await O();if(h({_c:o}),i){if(p)throw i;return}return c?N:T}}let I=(e,t)=>{for(let n in e)e[n][0]&&e[n][0](t)},M=(e,t)=>{if(!w.has(e)){let n=s(O,t),r={},a=F.bind(o,e),l=i,u={},c=(e,t)=>{let n=u[e]||[];return u[e]=n,n.push(t),()=>n.splice(n.indexOf(t),1)},f=(t,n,r)=>{e.set(t,n);let i=u[t];if(i)for(let e of i)e(n,r)},d=()=>{if(!w.has(e)&&(w.set(e,[r,{},{},{},a,f,c]),!R)){let t=n.initFocus(setTimeout.bind(o,I.bind(o,r,0))),i=n.initReconnect(setTimeout.bind(o,I.bind(o,r,1)));l=()=>{t&&t(),i&&i(),w.delete(e)}}};return d(),[e,a,d,l]}return[e,w.get(e)[4]]},[x,W]=M(new Map),q=s({onLoadingSlow:i,onSuccess:i,onError:i,onErrorRetry:(e,t,n,r,i)=>{let o=n.errorRetryCount,a=i.retryCount,u=~~((Math.random()+.5)*(1<<(a<8?a:8)))*n.errorRetryInterval;(l(o)||!(a>o))&&setTimeout(r,u,i)},onDiscarded:i,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:L?1e4:5e3,focusThrottleInterval:5e3,dedupingInterval:2e3,loadingTimeout:L?5e3:3e3,compare:(e,t)=>d(e)==d(t),isPaused:()=>!1,cache:x,mutate:W,fallback:{}},{isOnline:()=>v,isVisible:()=>{let e=y&&document.visibilityState;return l(e)||"hidden"!==e}}),U=(e,t)=>{let n=s(e,t);if(t){let{use:r,fallback:i}=e,{use:o,fallback:a}=t;r&&o&&(n.use=r.concat(o)),i&&a&&(n.fallback=s(i,a))}return n},P=(0,r.createContext)({}),J=e=>{let{value:t}=e,n=(0,r.useContext)(P),i=u(t),a=(0,r.useMemo)(()=>i?t(n):t,[i,n,t]),l=(0,r.useMemo)(()=>i?a:U(n,a),[i,n,a]),c=a&&a.provider,f=(0,r.useRef)(o);c&&!f.current&&(f.current=M(c(l.cache||x),a));let d=f.current;return d&&(l.cache=d[0],l.mutate=d[1]),S(()=>{if(d)return d[2]&&d[2](),d[3]},[]),(0,r.createElement)(P.Provider,s(e,{value:l}))},X=_&&window.__SWR_DEVTOOLS_USE__,Z=X?window.__SWR_DEVTOOLS_USE__:[],$=()=>s(q,(0,r.useContext)(P)),j=(e,t)=>{let[n,r]=A(e),[,,,i]=w.get(x);if(i[n])return i[n];let o=t(r);return i[n]=o,o},B=Z.concat(e=>(t,n,r)=>{let i=n&&((...e)=>{let[r]=A(t),[,,,i]=w.get(x),o=i[r];return l(o)?n(...e):(delete i[r],o)});return e(t,i,r)}),H=e=>function(...t){let n=$(),[r,i,o]=u(t[1])?[t[0],t[1],t[2]||{}]:[t[0],null,(null===t[1]?t[2]:t[1])||{}],a=U(n,o),l=e,{use:s}=a,c=(s||[]).concat(B);for(let e=c.length;e--;)l=c[e](l);return l(r,i||a.fetcher||null,a)},K=(e,t,n)=>{let r=t[e]||(t[e]=[]);return r.push(n),()=>{let e=r.indexOf(n);e>=0&&(r[e]=r[r.length-1],r.pop())}};X&&(window.__SWR_DEVTOOLS_REACT__=r.default)}}]);