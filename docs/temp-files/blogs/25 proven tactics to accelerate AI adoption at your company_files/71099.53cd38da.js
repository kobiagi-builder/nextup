"use strict";(self.webpackChunksubstack=self.webpackChunksubstack||[]).push([["71099"],{38610:function(e,t,r){r.d(t,{A:()=>i});let i=52101!=r.j?{icon:"icon-JCPlCw",toggleSetting:"toggleSetting-UDN_Qn",transcriptionPlayer:"transcriptionPlayer-eiECcl",hidePlayer:"hidePlayer-TfzId9",nonActiveText:"nonActiveText-JfTKb8",transcriptionChunk:"transcriptionChunk-bCQeJ2",editableChunk:"editableChunk-k4Fatu",startTime:"startTime-tjpyBE",text:"text-Ou5QC2",activeStartTime:"activeStartTime-ozZC_j",chunkWithSpeaker:"chunkWithSpeaker-iYPDkU",speaker:"speaker-GFTaOB",transcription:"transcription-hfRyWl",popover:"popover-tZdxdX",divider:"divider-ah0vWs",resultsValue:"resultsValue-uYlTxH",searchResult:"searchResult-_1_8Y9",isFocused:"isFocused-CIwNEb",searchForm:"searchForm-gEUJ79"}:null},49984:function(e,t,r){r.d(t,{V5:()=>k,Xl:()=>S,o6:()=>x});var i=r(69277),n=r(70408),a=r(32641),l=r(4006),o=r(32485),s=r.n(o),d=r(84934),c=r(17402),h=r(38305),u=r(20674),p=r(33764),m=r(66665),g=r(46360),f=r(15894),Y=r(53293),v=r(84605),w=r(46271),_=r(57568),T=r(13022),y=r(68410),I=r(35369),b=r(17028),F=r(76977),D=r(16291),A=r(49807),C=r(86508),N=r(42383);let k=e=>{let{theme:t,isMobile:r}=e;switch(t){case"full-width-image":return r?{height:620,width:350}:{height:880,width:1440};case"landscape-image":return r?{height:200,width:330}:{height:440,width:750};default:return r?{height:450,width:450}:{height:750,width:550}}},x=e=>{var t;return null==(t=e.postTags)?void 0:t.some(e=>"america-at-250"===e.slug)},S=e=>{var{postTheme:t,inThreadHead:r}=e,n=(0,a._)(e,["postTheme","inThreadHead"]);if(!t||r)return(0,l.Y)(W,(0,i._)({},n));let o=H[t.header_variant];return o?(0,l.Y)(o,(0,i._)({postTheme:t},n)):null},E=e=>{let{postTheme:t}=e,{setTheme:r}=(0,Y.T)();(0,c.useEffect)(()=>{r(null!=t?t:null)},[])},W=e=>{let{post:t,title:r,pub:i}=e;return E({postTheme:null}),(0,l.FD)(F.I1,{paddingBottom:24,children:[(0,l.Y)(f.T,{preset:"h4-sans-condensed",children:r}),(0,l.Y)(j,{post:t,preset:"lg-preview-byline",pub:i})]})},M={black:"primary",white:"white",red:"accent"},R=e=>{var t,r,i;let{postTheme:n,imageHeight:a,imageWidth:o,aspectRatio:d,post:c,pub:h}=e,u=null!=(t=n.post_preview_crop_gravity)?t:"auto",m=n.cover_image_caption?(0,C.toHtml)(JSON.stringify(n.cover_image_caption),!1,{postId:null!=(r=null==c?void 0:c.id)?r:null,pubId:null!=(i=null==h?void 0:h.id)?i:null}):null;return n.cover_image?(0,l.FD)("figure",{className:s()(N.A.headerImageContainer,N.A["".concat(n.header_variant,"-container")]),children:[(0,l.Y)(p.o,{className:N.A.headerImage,imageProps:{smartCrop:!0,gravity:u,height:a},maxWidth:null!=o?o:a/d,src:n.cover_image,style:{aspectRatio:d}}),m?(0,l.Y)("figcaption",{children:(0,l.Y)(F.Ye,{justifyContent:"end",paddingTop:8,children:(0,l.Y)(f.T,{dangerouslySetInnerHTML:{__html:m},preset:"caption"})})}):null]}):null},j=e=>{let{post:t,pub:r,fontColor:a="accent",showThemedMeta:o=!0,preset:s="article-byline",showFollowModule:d=!1}=e,c=x(t),p=(0,T.Ay)("thefp_enable_follow_module"),{iString:g,language:Y}=(0,v.GO)(),{isMobile:w}=(0,y.sM)();return(0,l.Y)(b.az,{paddingTop:24,children:(0,l.Y)(u.D,{className:N.A.bylineWrapper,hideFaces:!0,hideMeta:!0,post:t,pub:r,renderBylines:e=>{let{publishedBylines:u,getLinkProps:v}=e;return(0,l.FD)(F.pT,{alignItems:"baseline",className:N.A.bylineContainer,direction:{mobile:"row",desktop:"column"},gap:8,justifyContent:"space-between",wrap:"wrap",children:["article-byline"===s?(0,l.FD)(l.FK,{children:[(0,l.FD)(f.T,{color:a,preset:"article-byline",children:[g("By "),(0,l.Y)(h.K,{array:u,formatter:e=>v(e).href?(0,l.Y)(f.T,(0,n._)((0,i._)({as:"a"},v(e)),{color:a,native:!0,preset:"article-byline",children:e.name})):(0,l.Y)(f.T,{as:"span",color:a,preset:"article-byline",children:e.name}),limit:4})]}),o&&(0,l.Y)(F.pT,{direction:{mobile:"row",desktop:"column"},paddingTop:16*!w,children:(0,l.Y)(f.T,{preset:"timestamp",children:(0,l.FD)(F.Ye,{alignItems:"center",children:[(0,D.A)(t.post_date).locale(Y).format("MM.DD.YY"),c&&(0,l.Y)("a",{href:"/america250",children:(0,l.Y)("img",{className:N.A.america250Logo,src:(0,A.dJ9)("".concat((0,A.Ewe)(),"/img/thefp/a250_logo.png"),500,{quality:"auto:good",crop:"limit"})})}),t.section&&!c?(0,l.FD)(l.FK,{children:[" — ",(0,l.Y)(f.T,{as:"a",href:(0,A.Dor)(r,{section:t.section}),preset:"timestamp",children:t.section.name})]}):null]})})})]}):(0,l.FD)(f.T,{color:a,preset:s,children:[g("By "),(0,l.Y)(h.K,{array:u,formatter:e=>v(e).href?(0,l.Y)(f.T,(0,n._)((0,i._)({as:"a"},v(e)),{color:a,preset:s,children:e.name})):(0,l.Y)(f.T,{as:"span",color:a,preset:s,children:e.name}),limit:4})," — ",(0,D.A)(t.post_date).locale(Y).format("MM.DD.YY")]}),p&&d&&(0,l.Y)(m.A,{post:t})]})}})})},H={"portrait-image":e=>{let{post:t,postTheme:r,title:i,subtitle:n,pub:a}=e,{isMobile:o}=(0,y.sM)(),{isPrint:s}=(0,_.f)(),d=(0,w.Jd)();E({postTheme:r});let{height:c,width:h}=k({isMobile:o,theme:null==r?void 0:r.header_variant});return(0,l.FD)(l.FK,{children:[(0,l.FD)(F.pT,{className:N.A.customThemeHeader,direction:o?"column":"row",children:[(0,l.FD)(F.I1,{className:N.A.copy,justifyContent:"center",children:[(0,l.FD)(F.I1,{gap:16*!!o,children:[(0,l.Y)(f.T,{preset:s?"h2-serif":o?"h1-text":"h1-serif",children:null!=i?i:t.is_draft?t.draft_title:t.title}),(0,l.Y)(b.az,{paddingTop:24*!o,children:(0,l.Y)(f.T,{preset:"d1-sans-regular",children:n})})]}),(0,l.Y)(F.I1,{gap:16,children:(0,l.Y)(j,{post:t,pub:a,showFollowModule:!0})})]}),(0,l.Y)(R,{aspectRatio:h/c,imageHeight:c,imageWidth:h,post:t,postTheme:r,pub:a})]}),(0,l.Y)(g.L,{post:t,pub:a,user:d,variant:"newsletter-post"})]})},"landscape-image":e=>{let{post:t,postTheme:r,pub:i,title:n,subtitle:a}=e,{isMobile:o}=(0,y.sM)();E({postTheme:r});let s=(0,w.Jd)(),{isPrint:d}=(0,_.f)(),{width:c,height:h}=k({isMobile:o,theme:r.header_variant}),u=c/h,p=x(t);return(0,l.FD)(l.FK,{children:[(0,l.FD)(F.I1,{className:N.A.customThemeHeader,children:[(0,l.FD)(F.Ye,{justifyContent:"space-between",children:[(0,l.Y)(f.T,{preset:d?"h2-serif":"h1-serif",children:n}),p&&!o&&(0,l.Y)("a",{href:"/america250",children:(0,l.Y)(b.az,{className:N.A.eagleStampContainer,children:(0,l.Y)("img",{className:N.A.eagleStampImage,src:(0,A.dJ9)("".concat((0,A.Ewe)(),"/img/thefp/eagle_stamp.png"),500,{quality:"auto:good",crop:"limit"})})})})]}),o&&(0,l.Y)(f.T,{preset:"d1-sans-regular",children:a}),(0,l.FD)(F.pT,{direction:o?"column-reverse":"row",gap:o?8:40,children:[(0,l.Y)(R,{aspectRatio:u,imageHeight:c/u,imageWidth:c,post:t,postTheme:r,pub:i}),(0,l.FD)(F.I1,{className:N.A.copy,flex:"fill",justifyContent:"space-between",paddingBottom:12,children:[!o&&(0,l.Y)(f.T,{preset:"d1-sans-regular",children:a}),(0,l.Y)(F.I1,{gap:16,children:(0,l.Y)(j,{post:t,pub:i,showFollowModule:!0})})]})]})]}),(0,l.Y)(g.L,{post:t,pub:i,user:s,variant:"newsletter-post"})]})},"full-width-image":e=>{var t,r,i;let{post:n,pub:a,postTheme:o,title:s,subtitle:d}=e,{isMobile:c}=(0,y.sM)();E({postTheme:o});let{isPrint:h}=(0,_.f)(),{language:u}=(0,v.GO)(),p=(0,w.Jd)(),{width:m}=k({isMobile:c,theme:o.header_variant}),Y=null==(t=o.variant_config)?void 0:t.fullWidthImage,T=(null==Y?void 0:Y.hideOverlay)||!1,I=(null==Y?void 0:Y.hideSectionLink)||!1,C=null!=(i=M[null!=(r=null==Y?void 0:Y.textColor)?r:"white"])?i:"white";return(0,l.FD)(l.FK,{children:[(0,l.Y)(F.pT,{alignItems:"center",className:N.A.fullWidthImageHeader,direction:"column",justifyContent:c?"end":"center",style:{backgroundImage:"".concat(T?"":"linear-gradient(rgba(22, 22, 19, 0.65), rgba(22, 22, 19, 0.65))").concat(o.cover_image?"".concat(T?"":", ","url(").concat((0,A.dJ9)(o.cover_image,2*m,{quality:"auto:best",smartCrop:!0}),")"):"")},children:(0,l.FD)(F.I1,{alignItems:"center",className:N.A.fullWidthHeaderContent,justifyContent:c?"start":"center",paddingX:c?32:40,children:[(0,l.Y)(F.pT,{direction:{mobile:"row",desktop:"column"},paddingBottom:c?56:64,paddingTop:16*!c,children:(0,l.FD)(f.T,{color:C,preset:"timestamp",children:[(0,D.A)(n.post_date).locale(u).format("MM.DD.YY"),n.section&&!I?(0,l.FD)(l.FK,{children:[" — ",(0,l.Y)(f.T,{as:"a",color:C,href:(0,A.Dor)(a,{section:n.section}),preset:"timestamp",children:n.section.name})]}):null]})}),(0,l.FD)(F.I1,{alignItems:"center",gap:24,children:[(0,l.Y)(f.T,{color:C,preset:h?"h3-condensed":"h1-sans",children:s}),(0,l.Y)(b.az,{className:N.A.fullWidthHeaderSubtitle,children:(0,l.Y)(f.T,{color:C,preset:"d1-serif",children:d})})]}),(0,l.Y)(F.I1,{alignItems:"center",paddingTop:c?32:120,children:(0,l.Y)(j,{fontColor:C,post:n,pub:a,showThemedMeta:!1})})]})}),(0,l.Y)(g.L,{post:n,pub:a,user:p,variant:"newsletter-post"})]})},title_and_image_only:e=>{let{post:t,pub:r,postTheme:i,title:n,subtitle:a}=e,{isMobile:o}=(0,y.sM)();E({postTheme:i});let c=(0,w.Jd)(),{iString:h}=(0,v.GO)(),u=(null==c?void 0:c.is_contributor)&&(null==t?void 0:t.id)?(0,l.Y)(I.$n,{href:(0,A.I_S)(r,t.id,{params:{back:document.location.href}}),leading:(0,l.Y)(d.A,{size:20}),localNavigation:!1,priority:"secondary",children:h("Edit")}):null;return(0,l.Y)("div",{className:N.A.titleAndImageContainer,children:(0,l.FD)(F.I1,{gap:o?24:40,paddingBottom:64,children:[(0,l.Y)("div",{className:s()(N.A.titleAndImageHeader,{[N.A.noImage]:!i.cover_image}),children:o?(0,l.FD)(F.I1,{gap:24,children:[u&&(0,l.Y)(F.Ye,{alignSelf:"start",children:u}),(0,l.Y)(f.T,{preset:"h1-serif",children:n}),i.cover_image&&(0,l.Y)(F.Ye,{children:(0,l.Y)(p.o,{className:N.A.image,imageIsFixedWidth:!0,maxWidth:540,src:i.cover_image,useRetinaSizing:!0})}),a&&(0,l.Y)(f.T,{preset:"d1-sans-regular",children:a})]}):(0,l.FD)(l.FK,{children:[(0,l.FD)(F.I1,{children:[u&&(0,l.Y)(F.Ye,{alignSelf:"start",children:u}),(0,l.Y)(f.T,{preset:"h1-serif",children:n}),(0,l.Y)(F.I1,{gap:24,children:a&&(0,l.Y)(f.T,{preset:"d1-sans-regular",children:a})})]}),i.cover_image&&(0,l.Y)(F.Ye,{justifyContent:"end",children:(0,l.Y)(p.o,{imageIsFixedWidth:!0,maxWidth:540,src:i.cover_image,useRetinaSizing:!0})})]})}),(0,l.Y)("div",{className:N.A.thickRule})]})})}}},53906:function(e,t,r){if(r.d(t,{q:()=>f}),52101!=r.j)var i=r(69277);var n=r(4006),a=r(17402),l=r(8853),o=r(86500),s=r(82772),d=r(89490),c=r(16074),h=r(63136),u=r(2548),p=r(49807),m=r(77505);function g(e){let{topic:t}=e,{query:r,title:i,photoUrl:a}=t;return(0,n.FD)(u.I1,{position:"relative",height:220,className:m.A.featuredTopicContainer,style:{backgroundImage:"url(".concat(a,")")},radius:"md",justifyContent:"end",as:"a",href:(0,p.k5Q)({query:r,utm_source:"trending-topics"}),children:[(0,n.Y)("div",{className:m.A.featuredTopicGradient}),(0,n.Y)(h.EY.H4,{zIndex:1,weight:"heavy",padding:16,color:"white",children:i})]})}function f(e){let{item:t}=e;return(0,n.FD)(u.I1,{gap:16,paddingBottom:16,children:[t.featuredTopic&&(0,n.Y)(g,{topic:t.featuredTopic}),(0,n.Y)(u.I1,{gap:12,paddingX:16,children:t.suggestedSearches.map((e,t)=>(0,n.FD)(a.Fragment,{children:[0!==t&&(0,n.Y)(c.c,{}),(0,n.Y)(Y,{topic:e,surface:"explore",padding:0})]},e.query))})]})}function Y(e){let{topic:t,trackingParameters:r,surface:c,padding:g=8}=e,{query:f,description_parts:Y,photoUrl:v}=t,w=(0,a.useRef)(null);return(0,s.S8)(w,()=>{(0,o.u4)(o.qY.TRENDING_TOPIC_SEEN,{trending_topic_id:t.id,query:t.query,surface:c,is_hero:!1})}),(0,n.FD)(u.Ye,{className:m.A.trendingTopic,ref:w,as:"a",alignItems:"center",gap:12,radius:"md",padding:g,href:(0,p.k5Q)({query:f,utm_source:"trending-topics"}),onClick:()=>(0,o.u4)(o.qY.FEED_MODULE_ITEM_CLICKED,(0,i._)({module:"trending_topics",clicked_element:t.query,trending_topic_id:t.id,surface:c},r)),children:[(0,n.Y)(d.az,{flex:"grow",minWidth:0,children:Y.map((e,t)=>(0,n.FD)(n.FK,{children:[(0,n.Y)(h.EY.B3,{as:"span",weight:0===t?"medium":void 0,color:0===t?"primary":"secondary",children:e})," "]}))}),v&&(0,n.Y)(d.az,{display:"flex",flex:"auto",outline:"detail",radius:"sm",overflow:"hidden",userSelect:"none",children:(0,n.Y)(l.c,{src:v,draggable:!1,width:"explore"===c?56:48,height:"explore"===c?56:48})})]})}},90250:function(e,t,r){r.d(t,{At:()=>n,eb:()=>l,fE:()=>a,ng:()=>i}),r(47307);let i=e=>{let{finishedSelection:t,transcriptionRows:r}=e,i=r[t.begin.rowIndex],n=r[t.finish.rowIndex],a=i.words[t.begin.wordIndex],l=n.words[t.finish.wordIndex];return{start:a.start,end:l.end}},n=e=>{let{startRow:t,endRow:r,startOffset:i,endOffset:n,startNodeText:a,endNodeText:l}=e,o=0!==i&&" "!==a[i-1]&&" "!==a[i],s=a.slice(0,i).trim(),d=0===s.length?0:s.split(/\s+/).length-!!o,c=t.words[d],h=l.slice(0,n).trim().split(/\s+/).length,u=r.words[h-1];return{start:c.start,end:u.end}},a=e=>{let{selectStart:t,selectEnd:r,alignedRows:i}=e,n=e=>{var t;let{rowIndex:r,offset:n,text:a}=e,l=i[r];l||console.error("Row at index",r,"does not exist");let o=a.slice(0,n).trim().split(/\s+/).length;(o<1||o>l.words.length)&&console.error("Calculated number of words",o,"is out of bounds");let s=l.words[o-1];return"number"!=typeof s.originalIndex&&console.error("Word's original index is not a number",s.originalIndex),null!=(t=null==s?void 0:s.originalIndex)?t:0};return[n(t),n(r)]},l=e=>{let{virtualizedListRef:t,start:r,end:i,duration:n}=e,a=performance.now(),l=e=>{let o,s=e-a,d=(o=Math.min(s/n,1))<.5?2*o*o:-1+(4-2*o)*o;t.current&&(t.current.scrollTo(r+(i-r)*d),s<n&&requestAnimationFrame(l))};requestAnimationFrame(l)}},91694:function(e,t,r){r.d(t,{A:()=>c});var i=r(4006),n=r(32485),a=r.n(n),l=r(17402),o=r(59294),s=r(39318),d=r(40345);let c=52101!=r.j?e=>{let{post:t,containerRef:r,aspectRatio:n,size:c="small",alwaysShow:h=!1,className:u}=e,[p]=(0,o.TR)(r),[m,g]=(0,l.useState)(!1),f=(0,s.Cv_)({post:t,height:"large"===c?480:320});return f&&(p||h)?(0,i.Y)("div",{className:a()(d.A.gifPreview,{[d.A.visible]:m},u),children:(0,i.Y)("img",{className:d.A.image,src:f,style:"aspect-ratio: ".concat(n),onLoad:()=>g(!0)})}):null}:null},93427:function(e,t,r){r.d(t,{XV:()=>u,kw:()=>d,xw:()=>h});var i=r(4006),n=r(32485),a=r.n(n),l=r(17402),o=r(308),s=r(32810);function d(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(0,i.Y)(c,{}),[r,n]=(0,l.useState)(e);return[r&&t,()=>{n(!1)}]}function c(){return(0,i.Y)(h,{})}function h(e){let{className:t}=e;return(0,i.Y)(u,{className:a()(t,"reader2-unread-dot")})}let u=(0,o.a)(s.A.unreadDot)},45937:function(e,t,r){r.d(t,{X:()=>n});var i=r(17402);function n(e,t,r){let{shouldCheck:n,threshold:a=200,bodyRef:l}=r,o=(0,i.useRef)(),s=null!=l?l:o,d=()=>{let t=s.current;if(t){let{bottom:r}=t.getBoundingClientRect();r<window.innerHeight+a&&e()}};return(0,i.useEffect)(()=>{if(n)return window.addEventListener("scroll",d,{capture:!0,passive:!0}),()=>{window.removeEventListener("scroll",d,{capture:!0})}},t),{bodyRef:s,check:d}}},9367:function(e,t,r){r.d(t,{c:()=>u});var i=r(69277),n=r(70408),a=r(32641),l=r(4006),o=r(17402),s=r(32485),d=r.n(s),c=r(76977),h=r(67754);let u=(0,o.forwardRef)((e,t)=>{var{className:r,error:o=!1,type:s="text",width:u,background:p,font:m,leftIcon:g,rightIcon:f}=e,Y=(0,a._)(e,["className","error","type","width","background","font","leftIcon","rightIcon"]);let v=(0,l.Y)("input",(0,n._)((0,i._)({},Y),{className:d()(r,h.A.inputWithIcons,{[h.A.error]:o},m&&h.A["font-".concat(m)]),style:{width:u,background:p},type:s,ref:t}));return(0,l.FD)(c.Ye,{paddingX:12,className:d()(r,h.A.inputWrapper,{[h.A.error]:o}),style:{width:u,background:p},children:[g&&(0,l.Y)("span",{children:g}),v,f&&(0,l.Y)("span",{children:f})]})})}}]);