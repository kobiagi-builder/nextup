"use strict";(self.webpackChunksubstack=self.webpackChunksubstack||[]).push([["76424"],{75030:function(e,t,n){n.d(t,{A:()=>r});let r={elevatedTheme:"elevatedTheme-fBklGV"}},4392:function(e,t,n){n.d(t,{O:()=>r});let r=(0,n(82776).randomString)()},82260:function(e,t,n){n.d(t,{F:()=>a});var r=n(49807);let i=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n="undefined"!=typeof window&&window._preloads&&window._preloads.pub&&window._preloads.pub.twitter_pixel_id||null;n&&l({p_id:"Twitter",p_user_id:0,txn_id:n,events:JSON.stringify([[e,t]]),tw_sale_amount:(null==t?void 0:t.value)||0,tw_order_quantity:(null==t?void 0:t.num_items)||0,tw_iframe_status:0,tw_document_href:document.location.href})},l=e=>{new Image().src="https://t.co/i/adsct?".concat((0,r.BpC)(e)),new Image().src="https://analytics.twitter.com/i/adsct?".concat((0,r.BpC)(e))},a=function(e){let{quantity:t,price:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("purchase"===e){let e="undefined"!=typeof window&&window._preloads&&window._preloads.publicationSettings&&window._preloads.publicationSettings.twitter_pixel_subscribe_event_id||null;e&&"function"==typeof window.twq&&window.twq("event",e),i("purchase",{num_items:t,value:n})}else if("signup"===e){let e="undefined"!=typeof window&&window._preloads&&window._preloads.publicationSettings&&window._preloads.publicationSettings.twitter_pixel_signup_event_id||null;e&&"function"==typeof window.twq&&window.twq("event",e),i("signup")}else i("pageview")}},12501:function(e,t,n){n.d(t,{U1:()=>b,VL:()=>g,lW:()=>h,qK:()=>p,st:()=>_});var r=n(69277),i=n(70408),l=n(32641),a=n(25568),s=n.n(a),o=n(97200),u=n.n(o),d=n(17402),c=n(94729);function p(e,t){let{auto:a,initialResult:o}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},[u,p]=(0,d.useState)({result:o||null,isLoading:!!a,hasLoadedOnce:!1,error:null,promise:null}),g=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var{abortController:a=new(s())}=t,o=(0,l._)(t,["abortController"]);let u=e((0,i._)((0,r._)({},o),{signal:a.signal})).then(e=>{if(!a.signal.aborted)return p({isLoading:!1,hasLoadedOnce:!0,error:null,result:e,promise:null}),e},e=>{if(!a.signal.aborted)return Promise.all([n.e("50551"),n.e("19565")]).then(n.bind(n,35132)).then(t=>{var n,r;let{Sentry:i}=t,l=e instanceof c.fk?{message:e.getMessage(),url:null==(n=e.url)?void 0:n.toString(),body:e.body}:{message:"There was an error fetching a resource"},a=e instanceof c.fk?{pathname:null==(r=e.url)?void 0:r.pathname}:{};e instanceof c.fk&&[404,500].includes(e.response.status)||i.captureException(e,{extra:l,tags:a})}),p(t=>(0,i._)((0,r._)({},t),{isLoading:!1,error:e,result:null,promise:null})),e});return p(e=>(0,i._)((0,r._)({},e),{isLoading:!0,error:null,promise:u})),u};return(0,d.useEffect)(()=>{if(a){let e=new(s());return g({abortController:e}),()=>{e.abort()}}},t||[]),(0,i._)((0,r._)({},u),{refetch:g,setResult:e=>{p(t=>(0,i._)((0,r._)({},t),{error:null,result:e,isLoading:!1,promise:null}))},clearError:()=>{p((0,i._)((0,r._)({},u),{error:null}))}})}function g(e,t){switch(t.type){case"page_reset":var n;if(null==(n=t.payload)?void 0:n.merge)return e.slice(0,1);return[{isLoading:!0,error:null,result:null}];case"page_start":{let n=e.slice(),{page:l,id:a,merge:s}=t.payload,o={result:null,id:a,isLoading:!0,error:null};return n[l]=s?(0,i._)((0,r._)({},o,n[l]),{id:a}):o,n}case"page_load":{let{id:n,result:l}=t.payload;return e.map(e=>e.id===n?(0,i._)((0,r._)({},e),{isLoading:!1,result:l,error:null}):e)}case"page_error":{let{id:n,error:l}=t.payload;return e.map(e=>e.id===n?(0,i._)((0,r._)({},e),{isLoading:!1,result:null,error:l}):e)}}return e}let f=new Map;function _(e){var{pathname:t,auto:n,initialResult:a,deps:s,cacheTtl:o}=e,u=(0,l._)(e,["pathname","auto","initialResult","deps","cacheTtl"]);let d=p(e=>{var{pathname:n}=e,i=(0,l._)(e,["pathname"]);if(!t)throw Error("useFetch requires a pathname");if(o){let e=f.get(t);if(e){let{ts:t,ttl:n,promise:r}=e;if(t+n>Date.now())return r}}let a=(0,c.x6)(null!=n?n:t,(0,r._)({},u,i));return o&&f.set(t,{ts:Date.now(),ttl:o,promise:a}),a},s||[],{auto:n,initialResult:a});return(0,i._)((0,r._)({},d),{setResult:e=>{t&&o&&f.set(t,{ts:Date.now(),ttl:o,promise:Promise.resolve(e)}),d.setResult(e)}})}function b(e){var{pathname:t,auto:n,initialResult:a,deps:o,getPageInit:p,pages:f,dispatch:_}=e,b=(0,l._)(e,["pathname","auto","initialResult","deps","getPageInit","pages","dispatch"]);return function(e,t){var n;let{auto:a,initialResult:o,pages:c,dispatch:p}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},[f,_]=(0,d.useReducer)(g,[{result:o||null,isLoading:!!a,error:null}],void 0),b=null!=c?c:f,h=null!=p?p:_,w=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var{abortController:n=new(s()),page:i=b.length,merge:a=!1,options:o}=t,d=(0,l._)(t,["abortController","page","merge","options"]);let c=b[i-1],p=u()();return h({type:"page_start",payload:{page:i,id:p,merge:a}}),e({options:(0,r._)({},o,d),signal:n.signal,page:i,lastPage:c}).then(e=>{if(!n.signal.aborted)return h({type:"page_load",payload:{page:i,id:p,result:e}}),e},e=>{if(!n.signal.aborted)return h({type:"page_error",payload:{page:i,id:p,error:e}}),e})},v=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var{merge:t=!1}=e,n=(0,l._)(e,["merge"]);return h({type:"page_reset",payload:{merge:t}}),w((0,i._)((0,r._)({},n),{page:0,merge:t}))};(0,d.useEffect)(()=>{if(a){let e=new(s());return v({abortController:e}),()=>{e.abort()}}},t||[]);let m=!1,y=async()=>{if(!m){let e=b[b.length-1];if(!e.isLoading&&!e.error)return m=!0,await w()}},Y=b[b.length-1];return{pages:b,page:b.length,lastPage:Y,fetchMore:y,canFetchMore:Y&&!Y.isLoading&&!Y.error,fetchFirstPage:v,hasLoadedOnce:!!(null==(n=b[0])?void 0:n.result)}}(e=>{let{page:n,lastPage:i,options:l}=e;if(!t)throw Error("useFetch requires a pathname");let a=p({init:(0,r._)({},b,l),page:n,lastPage:i});return(0,c.x6)(t,a)},o||[],{auto:n,initialResult:a,pages:f,dispatch:_})}function h(e,t,n){let r=(0,d.useRef)(null);return(0,d.useCallback)(function(){for(var n=arguments.length,i=Array(n),l=0;l<n;l++)i[l]=arguments[l];clearTimeout(r.current),r.current=setTimeout(()=>e(...i),t)},n)}},34762:function(e,t,n){n.d(t,{q:()=>l});var r=n(4006),i=n(89490);let l=()=>(0,r.Y)(i.az,{height:20})},49095:function(e,t,n){n.r(t),n.d(t,{ProfileRelationshipBadge:()=>y,RelationshipTag:()=>k,UserBadge:()=>Y,UserStatusSymbols:()=>m});var r=n(69277),i=n(70408),l=n(32641),a=n(4006),s=n(32485),o=n.n(s),u=n(84605),d=n(46271),c=n(86500),p=n(89490),g=n(76977),f=n(37598),_=n(81929),b=n(63136),h=n(4257),w=n(62252),v=n(14444);function m(e){var{status:t,tier:n,noRelationshipBadge:s}=e,o=(0,l._)(e,["status","tier","noRelationshipBadge"]);let u=n?{type:"bestseller",tier:n}:null==t?void 0:t.badge,d=s?null:null==t?void 0:t.subscriber;return(0,a.FD)(a.FK,{children:[u&&(0,a.Y)(Y,(0,i._)((0,r._)({},o),{userBadge:u})),u&&d&&" ",d&&(0,a.Y)(L,{inline:o.inline,label:d.label})]})}function y(e){var t;let{profile:n}=e,{iString:r}=(0,u.GO)(),i=(0,d.Jd)();if((null==i?void 0:i.id)===n.id)return null;let l=(null==(t=n.status)?void 0:t.subscriber)?n.status.subscriber.label:n.subscribesToViewerSubdomain?r("Subscribes to you"):n.followsViewer?r("Follows you"):null;return l?(0,a.Y)(L,{label:l}):null}function Y(e){let{className:t,isStatic:n=!1,inline:r=!1,size:i="lg",userBadge:l,userId:s,hideViewProfileButton:u=!1}=e,d=o()(t,r?v.A.inlineContainer:v.A.container);return n?(0,a.Y)(p.az,{className:d,children:(0,a.Y)(h.u,{badge:l,isStatic:n,size:i})}):s?(0,a.Y)(p.az,{className:d,"data-testid":"user-badge",cursor:"pointer",children:(0,a.Y)(w.q,{userId:s,badge:l,hideViewProfileButton:u,children:(0,a.Y)(h.u,{badge:l,size:i})})}):(0,a.Y)(p.az,{className:d,"data-testid":"user-badge",cursor:"pointer",children:(0,a.Y)(f.A,{trigger:(0,a.Y)(p.az,{children:(0,a.Y)(h.u,{badge:l,size:i})}),onOpen:()=>{"bestseller"===l.type&&(0,c.u4)(c.qY.BESTSELLER_INFO_SHOWN,{tier:l.tier,form:"popover",hovered_user_id:s})},children:(0,a.Y)(S,{badge:l})})})}function S(e){let t,{badge:n}=e,{iString:r}=(0,u.GO)(),i=function(e){let{iString:t}=(0,u.GO)();if("bestseller"===e.type)switch(e.tier){case 100:return t("Hundreds of paid subscribers");case 1e3:return t("Thousands of paid subscribers");case 1e4:return t("Tens of thousands of paid subscribers")}else if("vip"===e.type)return t("Verified on an external service");else if("subscriber"===e.type)switch(e.tier){case 1:return t("Paid subscriber to 1+ Substacks");case 5:return t("Paid subscriber to 5+ Substacks");case 10:return t("Paid subscriber to 10+ Substacks")}return t("Unverified user")}(n);return t=r("bestseller"===n.type?"Bestseller":"subscriber"===n.type?"Paid subscriber":"vip"===n.type?"Externally verified":"Unverified user"),(0,a.FD)(g.VP,{alignItems:"center",gap:16,padding:20,children:[(0,a.Y)(h.u,{size:"xl",badge:n}),(0,a.FD)(g.VP,{alignItems:"center",gap:2,children:[(0,a.Y)(b.EY.H4,{children:t}),(0,a.Y)(b.EY.B4,{align:"center",color:"secondary",children:i})]})]})}function L(e){let{label:t,inline:n}=e;return(0,a.Y)("div",{className:n?v.A.inlineContainer:v.A.container,children:(0,a.Y)(_.vw,{priority:"secondary",children:t})})}let k=(0,p.I4)({sizing:"border-box",display:"inline-flex",alignSelf:"center",height:20,paddingX:6,paddingY:2,gap:4,font:"text",fontSize:11,fontWeight:"medium",alignItems:"center",bg:"secondary",color:"secondary",radius:"xs"})}}]);